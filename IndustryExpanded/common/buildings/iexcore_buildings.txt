
building_copper_mine = {
	building_group = bg_copper_mining
	icon = "gfx/b_icons/copper_mine.dds"
	city_type = mine
	levels_per_mesh = 5
	required_construction = construction_cost_medium
	terrain_manipulator = mining

	unlocking_technologies = {
		shaft_mining
	}

	production_method_groups = {
		pmg_mining_equipment_building_copper_mine
		pmg_explosives_building_copper_mine
		pmg_steam_automation_building_iron_mine
		pmg_train_automation_building_iron_mine
	}
	ownership_type = self

	should_auto_expand = { 
		occupancy >= 0.8
		owner = {
			market = {
				mg:copper = { 
					market_goods_pricier > 0.01
				}
			}
		}
		state = {
			infrastructure_delta >= -2
		}
		NOT = { is_under_construction = yes }

	}
	
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_mining.dds"
	
	
    potential = {
        modifier:state_building_copper_mine_max_level_add > 0
    }
	
	has_max_level = yes
}

building_distillery = {
	building_group = bg_light_industry
	icon = "gfx/b_icons/distillery.dds"
	
	unlocking_technologies = {
		distillation
	}

	ai_nationalization_desire = -0.25 # AI is generally fine with privatizing consumer goods industries
	

	should_auto_expand = { 
		occupancy >= 0.8
		owner = {
			market = {
				mg:liquor = { 
					market_goods_pricier > -0.02
				}
			}
		}
		state = {
			infrastructure_delta >= -2
		}
		NOT = { is_under_construction = yes }
	}
	
	production_method_groups = {
		pmg_distillery
		pmg_automation_building_solid
	}

	required_construction = construction_cost_medium
	ownership_type = self
	
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_light_industry.dds"
}

building_lumber_mill = {
	building_group = bg_light_industry
	icon = "gfx/b_icons/lumber_mill.dds"
	
	unlocking_technologies = {
		steelworking
	}


	should_auto_expand = { 
		occupancy >= 0.8
		owner = {
			market = {
				mg:hardwood = { 
					market_goods_pricier > -0.02
				}
			}
		}
		state = {
			infrastructure_delta >= -2
		}
		NOT = { is_under_construction = yes }
	}
	
	production_method_groups = {
		pmg_base_building_lumber_mill
		pmg_secondary_building_lumber_mill
		pmg_automation_building_industry
	}
	
	required_construction = construction_cost_medium
	ownership_type = self
	
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_light_industry.dds"
}

building_oil_refinery = {
	building_group = bg_heavy_industry
	icon = "gfx/b_icons/oil_refinery.dds"
	
	unlocking_technologies = {
		refining
	}

	production_method_groups = {
		pmg_distillation_fuel
		pmg_plastics
		pmg_automation_building_solid
	}
	required_construction = construction_cost_very_high
	
	possible = {
		owner = {
			NOT = {
				OR = {
					has_law = law_type:law_industry_banned
					has_law = law_type:law_extraction_economy
				}
			}
		}
	}
	
	ownership_type = self
	
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_heavy_industry.dds"

	should_auto_expand = { 
		occupancy >= 0.8
		owner = {
			market = {
				mg:fuel = { 
					market_goods_pricier > -0.02
				}
			}
		}
		state = {
			infrastructure_delta >= -2
		}
		NOT = { is_under_construction = yes }
	}
}

building_wiremill = {
	building_group = bg_heavy_industry
	icon = "gfx/b_icons/wiremill.dds"
	
	unlocking_technologies = {
		metal_threading
	}

	production_method_groups = {
		pmg_wiremill_base
		pmg_wiremill_material
		pmg_automation_building_2500
	}
	required_construction = construction_cost_very_high
	
	possible = {
		owner = {
			NOT = {
				OR = {
					has_law = law_type:law_industry_banned
					has_law = law_type:law_extraction_economy
				}
			}
		}
	}
	
	ownership_type = self
	
	background = "gfx/interface/icons/building_icons/backgrounds/building_panel_bg_heavy_industry.dds"

	should_auto_expand = { 
		occupancy >= 0.8
		owner = {
			market = {
				mg:wire = { 
					market_goods_pricier > -0.02
				}
			}
		}
		state = {
			infrastructure_delta >= -2
		}
		NOT = { is_under_construction = yes }
	}
}
